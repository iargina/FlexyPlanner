!function(){var e=document.querySelector(".promocode__form"),t=document.querySelector(".input-amount-js"),n=document.querySelector(".date__wrapper"),a=document.querySelector(".common-promocode"),o=document.querySelector(".personal-promocode"),c=document.querySelector("#dateStart"),l=document.querySelector("#dateTo"),d={};function s(){var e=new Date,t=e.getDate(),n=e.getMonth()+1;return n<10&&(n="0"+n),t<10&&(t="0"+t),e.getFullYear()+"-"+n+"-"+t}c.value=s(),l.value=s();function i(e){return e.map((function(e,t){return"common"===e.type?'<li class="list__item" data-name=\''.concat(e.name,"'>\n            <p>Знижка ").concat(e.discount,"</p>\n            <p>Термін дії: ").concat(e.date,'</p>\n            <div class="common__wrapper">\n            <p>').concat(t+1,". Промокод <b>").concat(e.name,'</b></p>\n            <button data-action="delete" class="btn btn-danger" type="button">Видалити</button>\n            </div>\n            </li>'):'<li class="list__item">\n            <p>Знижка '.concat(e.discount,"</p>            \n            <ul>\n            ").concat(e.name.map((function(e,t){return'               \n                <li class="personal__wrapper" data-name=\''.concat(e,"'>\n                <span>").concat(t+1,". Промокод <b>").concat(e,'</b></span>\n                <div class="btn-wrapper">\n                <button data-action="active" class="btn btn-success" type="button">Активувати</button>\n                 <button data-action="delete" class="btn btn-danger" type="button">Видалити</button></div>\n                </li>                 \n                ')})).join(""),"\n            </ul>\n            </li>")})).join("")}a.innerHTML=i([{type:"common",discount:"30",date:"2023-01-05 - 2023-02-05",name:"hT143Sfv"},{type:"common",discount:"10",date:"2023-01-05 - 2023-02-05",name:"ntj53ken"},{type:"common",discount:"20",date:"2023-01-05 - 2023-02-05",name:"h198dSfv"}]),o.innerHTML=i([{type:"personal",discount:"30",name:["sdvsdv","dngsfgnv","DFBDFbz"]},{type:"personal",discount:"20",name:["dfvzx","bfdbmmghm","fgncvb"]}]),e.addEventListener("change",(function(e){e.preventDefault(),"personal"===e.currentTarget.elements.promocode.value?(t.disabled&&(t.disabled=!1),n.classList.add("visually-hidden")):(n.classList.contains("visually-hidden")&&n.classList.remove("visually-hidden"),t.disabled=!0)})),e.addEventListener("submit",(function(e){e.preventDefault();var a=e.currentTarget,o=a.elements,i=o.promocode,r=o.amound,u=o.discount,m=o.dateStart,p=o.dateTo;"personal"===i.value?(d.type=i.value,d.amound=r.value,d.discount=u.value):(d.type=i.value,d.discount=u.value,d.discount=r.value,d.period={from:m.value,to:p.value}),console.log(d),t.disabled&&(t.disabled=!1),n.classList.contains("visually-hidden")&&n.classList.remove("visually-hidden"),a.reset(),c.value=s(),l.value=s()})),a.addEventListener("click",(function(e){if("BUTTON"===e.target.nodeName){var t=e.target.closest("li").dataset.name;confirm("Дійсно видалити цей промокод: ".concat(t," ?"))?console.log("delete ".concat(t)):console.log("do not delete ".concat(t))}})),o.addEventListener("click",(function(e){if("BUTTON"===e.target.nodeName){var t=e.target.dataset.action,n=e.target.closest("li").dataset.name;if("delete"===t)confirm("Дійсно видалити цей промокод: ".concat(n," ?"))?console.log("delete ".concat(n)):console.log("do not delete ".concat(n));else confirm("Дійсно активувати цей промокод: ".concat(n," ?"))?(console.log("active ".concat(n)),e.target.disabled=!0,e.target.innerText="Активовано"):console.log("do not active ".concat(n))}}))}();
//# sourceMappingURL=admin_main.24651fee.js.map
