!function(){var e=document.querySelector(".promocode__form"),t=document.querySelector(".input-amount-js"),n=document.querySelector(".date__wrapper"),o=document.querySelector(".common-promocode"),a=document.querySelector(".personal-promocode"),s=document.querySelector("#dateStart"),r=document.querySelector("#dateTo"),c={};function d(){var e=new Date,t=e.getDate(),n=e.getMonth()+1;return n<10&&(n="0"+n),t<10&&(t="0"+t),e.getFullYear()+"-"+n+"-"+t}s.value=d(),r.value=d();var i,l,u,p,m,v;l=(i={common:[{discount:10,isUsing:null,promo:"48383627",type:"Common",period:{from:"2023-02-03T22:00:00.000Z",to:"2023-04-18T21:00:00.000Z"}},{discount:20,isUsing:null,promo:"38417820",type:"Common",period:{from:"2023-02-03T22:00:00.000Z",to:"2023-04-18T21:00:00.000Z"}}],personal:[{discount:30,isUsing:!1,type:"personal",promo:"sdvsdv",period:null},{discount:30,isUsing:!1,type:"personal",promo:"1dbfd45",period:null},{discount:10,isUsing:!1,type:"personal",promo:"v63sd1v2",period:null},{discount:30,isUsing:!1,type:"personal",promo:"sdv2fd1",period:null},{discount:20,isUsing:!1,type:"personal",promo:"dfvzx",period:null},{discount:20,isUsing:!1,type:"personal",promo:"137dsv5df",period:null}]}).common,u=i.personal,p=l.map((function(e,t){var n=e.discount,o=e.promo,a=e.period;return'<li class="list__item" data-name=\''.concat(o,"'>\n            <p>Знижка ").concat(n,"%</p>\n            <p>Термін дії: ").concat(a.from.slice(0,10)," - ").concat(a.to.slice(0,10),'</p>\n            <div class="common__wrapper">\n            <p>').concat(t+1,'. <span class="promo__name">').concat(o,'</span></p>\n            <button data-action="delete" class="btn btn-danger" type="button">Видалити</button>\n            </div>\n            </li>')})).join(""),m=u.reduce((function(e,t){return e[t.discount]=e[t.discount]||[],e[t.discount].push(t),e}),{}),v=Object.entries(m).map((function(e){return"\n        <p>Знижка ".concat(e[0],'%</p>\n        <ul class="list__item">\n          ').concat(e[1].map((function(e,t){return'\n                    <li class="personal__wrapper" data-name=\''.concat(e.promo,"'>\n                    <span>").concat(t+1,'. \n                      <span class="promo__name">').concat(e.promo,'</span>\n                    </span>\n                    <div class="btn-wrapper">\n                    <button data-action="active" class="btn btn-success" type="button">Активувати</button>\n                    <button data-action="delete" class="btn btn-danger" type="button">Видалити</button></div>\n                    </li>')})).join(""),"</ul>")})).join(""),o.innerHTML=p,a.innerHTML=v,e.addEventListener("change",(function(e){e.preventDefault(),"personal"===e.currentTarget.elements.promocode.value?(t.disabled&&(t.disabled=!1),n.classList.add("visually-hidden")):(n.classList.contains("visually-hidden")&&n.classList.remove("visually-hidden"),t.disabled=!0)})),e.addEventListener("submit",(function(e){e.preventDefault();var o=e.currentTarget,a=o.elements,i=a.promocode,l=a.amound,u=a.discount,p=a.dateStart,m=a.dateTo;"personal"===i.value?(c.type=i.value,c.amound=l.value,c.discount=u.value,c.period=null):(c.type=i.value,c.discount=u.value,c.discount=l.value,c.period={from:p.value,to:m.value}),console.log(c),t.disabled&&(t.disabled=!1),n.classList.contains("visually-hidden")&&n.classList.remove("visually-hidden"),o.reset(),s.value=d(),r.value=d()})),o.addEventListener("click",(function(e){if("BUTTON"===e.target.nodeName){var t=e.target.closest("li").dataset.name;confirm("Дійсно видалити цей промокод: ".concat(t," ?"))?console.log("delete ".concat(t)):console.log("do not delete ".concat(t))}})),a.addEventListener("click",(function(e){if("BUTTON"===e.target.nodeName){var t=e.target.dataset.action,n=e.target.closest("li").dataset.name;if("delete"===t)confirm("Дійсно видалити цей промокод: ".concat(n," ?"))?console.log("delete ".concat(n)):console.log("do not delete ".concat(n));else confirm("Дійсно активувати цей промокод: ".concat(n," ?"))?(console.log("active ".concat(n)),e.target.disabled=!0,e.target.innerText="Активовано"):console.log("do not active ".concat(n))}}));var g=document.querySelector(".order-admin"),f=document.querySelector('[data-status="to-order"]'),b=document.querySelector('[data-status="pre-order"]'),y=document.querySelector(".form-to-order"),L=document.querySelector(".form-pre-order"),T=function(e,t){e.classList.remove("btn-danger"),e.classList.add("btn-success"),e.innerText="Активовано",t.classList.remove("btn-success"),t.classList.add("btn-danger"),t.innerText="Активувати"};g.addEventListener("click",(function(e){e.target.classList.contains("btn-order-js")&&("pre-order"==e.target.dataset.status?T(e.target,f):T(e.target,b))})),y.addEventListener("submit",(function(e){e.preventDefault();new FormData(y)})),L.addEventListener("submit",(function(e){e.preventDefault();new FormData(L)}))}();
//# sourceMappingURL=admin.c773c1a7.js.map
