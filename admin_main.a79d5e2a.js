const e=document.querySelector(".promocode__form"),t=document.querySelector(".input-amount-js"),n=document.querySelector(".date__wrapper"),o=document.querySelector(".common-promocode"),a=document.querySelector(".personal-promocode"),l=document.querySelector("#dateStart"),s=document.querySelector("#dateTo"),d={};function c(){const e=new Date;let t=e.getDate(),n=e.getMonth()+1;n<10&&(n="0"+n),t<10&&(t="0"+t);return e.getFullYear()+"-"+n+"-"+t}l.value=c(),s.value=c();function i(e){return e.map(((e,t)=>"common"===e.type?`<li class="list__item" data-name='${e.name}'>\n            <p>Знижка ${e.discount}</p>\n            <p>Термін дії: ${e.date}</p>\n            <div class="common__wrapper">\n            <p>${t+1}. Промокод <b>${e.name}</b></p>\n            <button data-action="delete" class="btn btn-danger" type="button">Видалити</button>\n            </div>\n            </li>`:`<li class="list__item">\n            <p>Знижка ${e.discount}</p>            \n            <ul>\n            ${e.name.map(((e,t)=>`               \n                <li class="personal__wrapper" data-name='${e}'>\n                <span>${t+1}. Промокод <b>${e}</b></span>\n                <div class="btn-wrapper">\n                <button data-action="active" class="btn btn-success" type="button">Активувати</button>\n                 <button data-action="delete" class="btn btn-danger" type="button">Видалити</button></div>\n                </li>                 \n                `)).join("")}\n            </ul>\n            </li>`)).join("")}o.innerHTML=i([{type:"common",discount:"30",date:"2023-01-05 - 2023-02-05",name:"hT143Sfv"},{type:"common",discount:"10",date:"2023-01-05 - 2023-02-05",name:"ntj53ken"},{type:"common",discount:"20",date:"2023-01-05 - 2023-02-05",name:"h198dSfv"}]),a.innerHTML=i([{type:"personal",discount:"30",name:["sdvsdv","dngsfgnv","DFBDFbz"]},{type:"personal",discount:"20",name:["dfvzx","bfdbmmghm","fgncvb"]}]),e.addEventListener("change",(function(e){e.preventDefault(),"personal"===e.currentTarget.elements.promocode.value?(t.disabled&&(t.disabled=!1),n.classList.add("visually-hidden")):(n.classList.contains("visually-hidden")&&n.classList.remove("visually-hidden"),t.disabled=!0)})),e.addEventListener("submit",(function(e){e.preventDefault();const o=e.currentTarget,{elements:{promocode:a,amound:i,discount:r,dateStart:u,dateTo:m}}=o;"personal"===a.value?(d.type=a.value,d.amound=i.value,d.discount=r.value):(d.type=a.value,d.discount=r.value,d.discount=i.value,d.period={from:u.value,to:m.value}),console.log(d),t.disabled&&(t.disabled=!1),n.classList.contains("visually-hidden")&&n.classList.remove("visually-hidden"),o.reset(),l.value=c(),s.value=c()})),o.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;const t=e.target.closest("li").dataset.name;confirm(`Дійсно видалити цей промокод: ${t} ?`)?console.log(`delete ${t}`):console.log(`do not delete ${t}`)})),a.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;const t=e.target.dataset.action,n=e.target.closest("li").dataset.name;if("delete"===t){confirm(`Дійсно видалити цей промокод: ${n} ?`)?console.log(`delete ${n}`):console.log(`do not delete ${n}`)}else{confirm(`Дійсно активувати цей промокод: ${n} ?`)?(console.log(`active ${n}`),e.target.disabled=!0,e.target.innerText="Активовано"):console.log(`do not active ${n}`)}}));
//# sourceMappingURL=admin_main.a79d5e2a.js.map
