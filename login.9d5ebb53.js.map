{"mappings":"iiBAAA,I,EAAAA,EAAAC,EAAA,S,uCAGMC,EAAWC,EAAAC,QAAMC,OAAO,CAC5BC,QAAS,0CACTC,QAAS,CACP,eAAgB,sBAWdC,G,EAAQC,EAAAT,EAAA,CAAAS,EAAAC,GAAAC,MAAA,SAAAC,EAAMC,G,IAIVC,EAEEC,E,yEALVF,EAAEG,iBACFC,EAAcC,MAAMC,QAAU,e,kBARvBjB,EAASkB,KAAK,GAAI,CACvBC,MAAOC,EAAKC,SAASC,MAAMC,MAC3BC,SAAUJ,EAAKC,SAASG,SAASD,Q,OAQ3BX,EAAGa,EAAAC,KAEHb,EAAkBD,EAAIe,KAApBd,YACRe,OAAOC,eAAeC,QAAQ,cAAejB,GAC7Ce,OAAOG,SAASC,KAAO,mB,kDAEvBC,EAAAC,OAAOC,QAAQ,kCACff,EAAKgB,Q,yBAELrB,EAAcC,MAAMC,QAAU,O,sFAbdN,G,iCAgBdI,EAAgBsB,SAASC,cAAc,mBACvClB,EAAOiB,SAASC,cAAc,kBACpClB,EAAKmB,iBAAiB,SAAUjC,E","sources":["src/login.js"],"sourcesContent":["import axios from 'axios';\nimport { Notify } from 'notiflix';\n\nconst instance = axios.create({\n  baseURL: 'https://api.flexyplanner.com/auth/login',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\nconst signIn = () => {\n  return instance.post('', {\n    email: form.elements.login.value,\n    password: form.elements.password.value,\n  });\n};\n\nconst login = async e => {\n  e.preventDefault();\n  spinnerLoader.style.display = 'inline-block';\n  try {\n    const res = await signIn();\n\n    const { accessToken } = res.data;\n    window.sessionStorage.setItem('accessToken', accessToken);\n    window.location.href = '/admin_main.html';\n  } catch (err) {\n    Notify.failure('Неправильний e-mail або пароль');\n    form.reset();\n  } finally {\n    spinnerLoader.style.display = 'none';\n  }\n};\nconst spinnerLoader = document.querySelector('.spinner-border');\nconst form = document.querySelector('#admin-form-js');\nform.addEventListener('submit', login);\n"],"names":["$bpxeT","parcelRequire","$0148b897aad4632e$var$instance","$dIxxU","default","create","baseURL","headers","$0148b897aad4632e$var$login","$parcel$interopDefault","$2TvXO","mark","_callee","e","res","accessToken","preventDefault","$0148b897aad4632e$var$spinnerLoader","style","display","post","email","$0148b897aad4632e$var$form","elements","login","value","password","_ctx","sent","data","window","sessionStorage","setItem","location","href","$iU1Pc","Notify","failure","reset","document","querySelector","addEventListener"],"version":3,"file":"login.9d5ebb53.js.map"}