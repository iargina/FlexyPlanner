{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,aAGA,MAAMC,EAAWF,EAAAG,QAAMC,OAAO,CAC5BC,QAAS,+CACTC,QAAS,CACP,eAAgB,sBA2BdC,EAAgBC,SAASC,cAAc,mBACvCC,EAAOF,SAASC,cAAc,kBACpCC,EAAKC,iBAAiB,UAlBRC,MAAMC,IAClBA,EAAEC,iBACFP,EAAcQ,MAAMC,QAAU,eAC9B,IACE,MAAMC,QAVDf,EAASgB,KAAK,GAAI,CACvBC,MAAOT,EAAKU,SAASC,MAAMC,MAC3BC,SAAUb,EAAKU,SAASG,SAASD,SAU3BE,YAAEA,GAAgBP,EAAIQ,KAC5BC,OAAOC,eAAeC,QAAQ,cAAeJ,GAC7CE,OAAOG,SAASC,KAAO,kB,CACvB,MAAOC,GACPC,EAAAC,OAAOC,QAAQ,kCACfxB,EAAKyB,O,CACN,QACC5B,EAAcQ,MAAMC,QAAU,M","sources":["src/login.js"],"sourcesContent":["import axios from 'axios';\nimport { Notify } from 'notiflix';\n\nconst instance = axios.create({\n  baseURL: 'https://flexyplanner.onrender.com/auth/login',\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\nconst signIn = () => {\n  return instance.post('', {\n    email: form.elements.login.value,\n    password: form.elements.password.value,\n  });\n};\n\nconst login = async e => {\n  e.preventDefault();\n  spinnerLoader.style.display = 'inline-block';\n  try {\n    const res = await signIn();\n\n    const { accessToken } = res.data;\n    window.sessionStorage.setItem('accessToken', accessToken);\n    window.location.href = '/admin_main.html';\n  } catch (err) {\n    Notify.failure('Неправильний e-mail або пароль');\n    form.reset();\n  } finally {\n    spinnerLoader.style.display = 'none';\n  }\n};\nconst spinnerLoader = document.querySelector('.spinner-border');\nconst form = document.querySelector('#admin-form-js');\nform.addEventListener('submit', login);\n"],"names":["$2shzp","parcelRequire","$e6733a79fedf2e92$var$instance","default","create","baseURL","headers","$e6733a79fedf2e92$var$spinnerLoader","document","querySelector","$e6733a79fedf2e92$var$form","addEventListener","async","e","preventDefault","style","display","res","post","email","elements","login","value","password","accessToken","data","window","sessionStorage","setItem","location","href","err","$eWCmQ","Notify","failure","reset"],"version":3,"file":"login.9449e1e2.js.map"}