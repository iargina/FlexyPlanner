{"mappings":"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","sources":["src/js/promo-admin.js"],"sourcesContent":["const initForm = document.querySelector('.promocode__form');\nconst inputAmount = document.querySelector('.input-amount-js');\nconst dateGroup = document.querySelector('.date__wrapper');\nconst commonList = document.querySelector('.common-promocode');\nconst personalList = document.querySelector('.personal-promocode');\nconst startDate = document.querySelector('#dateStart');\nconst stopDate = document.querySelector('#dateTo');\n\nconst promocodeObj = {};\n\nstartDate.value = todayDate();\nstopDate.value = todayDate();\n\nfunction todayDate() {\n  const date = new Date();\n  let day = date.getDate();\n  let month = date.getMonth() + 1;\n  const year = date.getFullYear();\n\n  if (month < 10) month = '0' + month;\n  if (day < 10) day = '0' + day;\n  const today = year + '-' + month + '-' + day;\n  return today;\n}\n\nfunction onFormChange(e) {\n  e.preventDefault();\n  let promoType = e.currentTarget.elements.promocode.value;\n  if (promoType === 'personal') {\n    if (inputAmount.disabled) inputAmount.disabled = false;\n    dateGroup.classList.add('visually-hidden');\n  } else {\n    if (dateGroup.classList.contains('visually-hidden'))\n      dateGroup.classList.remove('visually-hidden');\n    inputAmount.disabled = true;\n  }\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const form = e.currentTarget;\n  const {\n    elements: { promocode, amound, discount, dateStart, dateTo },\n  } = form;\n  if (promocode.value === 'personal') {\n    promocodeObj.type = promocode.value;\n    promocodeObj.amound = amound.value;\n    promocodeObj.discount = discount.value;\n  } else {\n    promocodeObj.type = promocode.value;\n    promocodeObj.discount = discount.value;\n    promocodeObj.discount = amound.value;\n    promocodeObj.period = {\n      from: dateStart.value,\n      to: dateTo.value,\n    };\n  }\n  console.log(promocodeObj);\n  if (inputAmount.disabled) inputAmount.disabled = false;\n  if (dateGroup.classList.contains('visually-hidden'))\n    dateGroup.classList.remove('visually-hidden');\n  form.reset();\n  startDate.value = todayDate();\n  stopDate.value = todayDate();\n}\n\nfunction onCommonList(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  const promoName = e.target.closest('li').dataset.name;\n  let isDelete = confirm(`Дійсно видалити цей промокод: ${promoName} ?`);\n  if (isDelete) {\n    console.log(`delete ${promoName}`);\n  } else {\n    console.log(`do not delete ${promoName}`);\n  }\n}\n\nfunction onPersonalList(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  const btnName = e.target.dataset.action;\n  const promoName = e.target.closest('li').dataset.name;\n\n  if (btnName === 'delete') {\n    const isDelete = confirm(`Дійсно видалити цей промокод: ${promoName} ?`);\n    if (isDelete) {\n      console.log(`delete ${promoName}`);\n    } else {\n      console.log(`do not delete ${promoName}`);\n    }\n  } else {\n    const isActivate = confirm(\n      `Дійсно активувати цей промокод: ${promoName} ?`\n    );\n    if (isActivate) {\n      console.log(`active ${promoName}`);\n      e.target.disabled = true;\n      e.target.innerText = 'Активовано';\n    } else {\n      console.log(`do not active ${promoName}`);\n    }\n  }\n}\n\nconst commonArray = [\n  {\n    type: 'common',\n    discount: '30',\n    date: '2023-01-05 - 2023-02-05',\n    name: 'hT143Sfv',\n  },\n  {\n    type: 'common',\n    discount: '10',\n    date: '2023-01-05 - 2023-02-05',\n    name: 'ntj53ken',\n  },\n  {\n    type: 'common',\n    discount: '20',\n    date: '2023-01-05 - 2023-02-05',\n    name: 'h198dSfv',\n  },\n];\nconst PersonalArray = [\n  {\n    type: 'personal',\n    discount: '30',\n    name: ['sdvsdv', 'dngsfgnv', 'DFBDFbz'],\n  },\n  {\n    type: 'personal',\n    discount: '20',\n    name: ['dfvzx', 'bfdbmmghm', 'fgncvb'],\n  },\n];\n\nfunction createPromocodeMarkup(array) {\n  return array\n    .map((promo, i) => {\n      if (promo.type === 'common') {\n        return `<li class=\"list__item\" data-name='${promo.name}'>\n            <p>Знижка ${promo.discount}</p>\n            <p>Термін дії: ${promo.date}</p>\n            <div class=\"common__wrapper\">\n            <p>${i + 1}. Промокод <b>${promo.name}</b></p>\n            <button data-action=\"delete\" class=\"btn btn-danger\" type=\"button\">Видалити</button>\n            </div>\n            </li>`;\n      } else {\n        return `<li class=\"list__item\">\n            <p>Знижка ${promo.discount}</p>            \n            <ul>\n            ${promo.name\n              .map((p, i) => {\n                return `               \n                <li class=\"personal__wrapper\" data-name='${p}'>\n                <span>${i + 1}. Промокод <b>${p}</b></span>\n                <div class=\"btn-wrapper\">\n                <button data-action=\"active\" class=\"btn btn-success\" type=\"button\">Активувати</button>\n                 <button data-action=\"delete\" class=\"btn btn-danger\" type=\"button\">Видалити</button></div>\n                </li>                 \n                `;\n              })\n              .join('')}\n            </ul>\n            </li>`;\n      }\n    })\n    .join('');\n}\n\ncommonList.innerHTML = createPromocodeMarkup(commonArray);\npersonalList.innerHTML = createPromocodeMarkup(PersonalArray);\n\ninitForm.addEventListener('change', onFormChange);\ninitForm.addEventListener('submit', onFormSubmit);\ncommonList.addEventListener('click', onCommonList);\npersonalList.addEventListener('click', onPersonalList);\n"],"names":["$2cfd3a8feea5b3bf$var$initForm","document","querySelector","$2cfd3a8feea5b3bf$var$inputAmount","$2cfd3a8feea5b3bf$var$dateGroup","$2cfd3a8feea5b3bf$var$commonList","$2cfd3a8feea5b3bf$var$personalList","$2cfd3a8feea5b3bf$var$startDate","$2cfd3a8feea5b3bf$var$stopDate","$2cfd3a8feea5b3bf$var$promocodeObj","$2cfd3a8feea5b3bf$var$todayDate","date","Date","day","getDate","month","getMonth","getFullYear","value","$2cfd3a8feea5b3bf$var$createPromocodeMarkup","array","map","promo","i1","type","concat","name","discount","p","i","join","innerHTML","addEventListener","e","preventDefault","currentTarget","elements","promocode","disabled","classList","add","contains","remove","form","_elements","amound","dateStart","dateTo","period","from","to","console","log","reset","target","nodeName","promoName","closest","dataset","confirm","btnName","action","innerText"],"version":3,"file":"admin_main.24651fee.js.map"}