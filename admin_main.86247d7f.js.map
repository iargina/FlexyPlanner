{"mappings":"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","sources":["src/js/services/promoAPI.js","src/js/promo-admin.js","src/js/order-module-admin.js"],"sourcesContent":["import axios from 'axios';\nconst instancePromocode = axios.create({\n  baseURL: 'https://flexyplanner.onrender.com/promo',\n  headers: {           \n    'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOiI2M2I4NWJjNDdmMDBlYTAwMzRjNGQ1ZGUiLCJzaWQiOiI2M2JkNDNmYWJlMmFmMDAwMzQzZDgxZTMiLCJpYXQiOjE2NzMzNDgwOTAsImV4cCI6MTY3MzM1MTY5MH0.YHt0Cgfh3YqRPeiGGLgXMUk0d950NWvC_owMoYzm9Q4'    \n  }\n});\nconst createConfigFromLocal = () => {\n  return { headers: {           \n    'Authorization': localStorage.getItem('Authorization')    \n  }}\n}\nexport const getAllPromocodes = async () => {\n  const { data } = await instancePromocode.get('/');\n  return data;\n};\nexport const checkPromocode = async (query) => {\n  const { data } = await instancePromocode.get(`/${query}`);\n  return data;\n};\nexport const postPromocodesCreate = async (promoData) => {\n  const response = await instancePromocode.post('', promoData);\n  return response.data;\n};\nexport const patchPromocodeStatus = async (promocode) => {\n  const response = await instancePromocode.patch('', promocode);\n  return response.data;\n};\nexport const deletePromocode = async (promocode) => {\n  const response = await instancePromocode.delete('', promocode);\n  return response.data;\n};","import {\n  getAllPromocodes,\n  postPromocodesCreate,\n  patchPromocodeStatus,\n  deletePromocode,\n} from './services/promoAPI';\nimport { Notify } from 'notiflix';\nconst initForm = document.querySelector('.promocode__form');\nconst inputAmount = document.querySelector('.input-amount-js');\nconst dateGroup = document.querySelector('.date__wrapper');\nconst commonList = document.querySelector('.common-promocode');\nconst personalList = document.querySelector('.personal-promocode');\nconst startDate = document.querySelector('#dateStart');\nconst stopDate = document.querySelector('#dateTo');\n\nconst promocodeObj = {};\n\nstartDate.value = todayDate();\nstopDate.value = todayDate();\n\nfunction todayDate() {\n  const date = new Date();\n  let day = date.getDate();\n  let month = date.getMonth() + 1;\n  const year = date.getFullYear();\n\n  if (month < 10) month = '0' + month;\n  if (day < 10) day = '0' + day;\n  const today = year + '-' + month + '-' + day;\n  return today;\n}\n\nfunction onFormChange(e) {\n  e.preventDefault();\n  let promoType = e.currentTarget.elements.promocode.value;\n  if (promoType === 'Personal') {\n    if (inputAmount.disabled) inputAmount.disabled = false;\n    dateGroup.classList.add('visually-hidden');\n  } else {\n    if (dateGroup.classList.contains('visually-hidden'))\n      dateGroup.classList.remove('visually-hidden');\n    inputAmount.disabled = true;\n  }\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const form = e.currentTarget;\n  const {\n    elements: { promocode, amound, discount, dateStart, dateTo },\n  } = form;\n  if (promocode.value === 'Personal') {\n    promocodeObj.type = promocode.value;\n    promocodeObj.amound = Number(amound.value);\n    promocodeObj.discount = Number(discount.value);\n  } else {\n    promocodeObj.type = promocode.value;\n    promocodeObj.discount = Number(discount.value);\n    promocodeObj.amound = Number(amound.value);\n    promocodeObj.from = new Date(dateStart.value).toISOString();\n    promocodeObj.to = new Date(dateTo.value).toISOString();\n  }\n\n  const promodata = JSON.stringify(promocodeObj);\n  postPromocodesCreate(promodata)\n    .then(data => console.log(data))\n    .catch(error => console.log(error.message));\n  if (inputAmount.disabled) inputAmount.disabled = false;\n  if (dateGroup.classList.contains('visually-hidden'))\n    dateGroup.classList.remove('visually-hidden');\n  form.reset();\n  startDate.value = todayDate();\n  stopDate.value = todayDate();\n}\n\nfunction onCommonList(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  const promoName = e.target.closest('li').dataset.name;\n  let isDelete = confirm(`Дійсно видалити цей промокод: ${promoName} ?`);\n  if (isDelete) {\n    const detelePromo = JSON.stringify({\n      promocode: promoName,\n    });\n    deletePromocode(detelePromo)\n      .then(data => console.log(data))\n      .catch(error => console.log(error.message));\n  } else {\n    Notify.info(`do not delete ${promoName}`);\n  }\n}\n\nfunction onPersonalList(e) {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  const btnName = e.target.dataset.action;\n  const promoName = e.target.closest('li').dataset.name;\n  const promo = JSON.stringify({\n    promocode: promoName,\n  });\n  if (btnName === 'delete') {\n    const isDelete = confirm(`Дійсно видалити цей промокод: ${promoName} ?`);\n    if (isDelete) {\n      deletePromocode(promo)\n        .then(data => console.log(data))\n        .catch(error => console.log(error.message));\n    } else {\n      Notify.info(`do not delete ${promoName}`);\n    }\n  } else {\n    const isActivate = confirm(\n      `Дійсно активувати цей промокод: ${promoName} ?`\n    );\n    if (isActivate) {\n      patchPromocodeStatus(promo)\n        .then(data => console.log(data))\n        .catch(error => console.log(error.message));\n      e.target.disabled = true;\n      e.target.innerText = 'Активовано';\n    } else {\n        Notify.info(`do not active ${promoName}`);\n    }\n  }\n}\ngetAllPromocodes().then(data => createPromocodeMarkup(data));\n\n\n// const objFromBack = {\n//   common: [\n//     {\n//       discount: 10,\n//       isUsing: null,\n//       promo: '48383627',\n//       type: 'Common',\n//       period: {\n//         from: '2023-02-03T22:00:00.000Z',\n//         to: '2023-04-18T21:00:00.000Z',\n//       },\n//     },\n//     {\n//       discount: 20,\n//       isUsing: null,\n//       promo: '38417820',\n//       type: 'Common',\n//       period: {\n//         from: '2023-02-03T22:00:00.000Z',\n//         to: '2023-04-18T21:00:00.000Z',\n//       },\n//     },\n//   ],\n//   personal: [\n//     {\n//       discount: 30,\n//       isUsing: false,\n//       type: 'personal',\n//       promo: 'sdvsdv',\n//       period: null,\n//     },\n//     {\n//       discount: 30,\n//       isUsing: false,\n//       type: 'personal',\n//       promo: '1dbfd45',\n//       period: null,\n//     },\n//     {\n//       discount: 10,\n//       isUsing: false,\n//       type: 'personal',\n//       promo: 'v63sd1v2',\n//       period: null,\n//     },\n//     {\n//       discount: 30,\n//       isUsing: false,\n//       type: 'personal',\n//       promo: 'sdv2fd1',\n//       period: null,\n//     },\n//     {\n//       discount: 20,\n//       isUsing: false,\n//       type: 'personal',\n//       promo: 'dfvzx',\n//       period: null,\n//     },\n//     {\n//       discount: 20,\n//       isUsing: false,\n//       type: 'personal',\n//       promo: '137dsv5df',\n//       period: null,\n//     },\n//   ],\n// };\n\nfunction createPromocodeMarkup({ common, personal }) {\n  const commonMarkup = common\n    .map(({ discount, promo, period }, i) => {\n      return `<li class=\"list__item\" data-name='${promo}'>\n            <p>Знижка ${discount}%</p>\n            <p>Термін дії: ${period.from.slice(0, 10)} - ${period.to.slice(\n        0,\n        10\n      )}</p>\n            <div class=\"common__wrapper\">\n            <p>${i + 1}. <span class=\"promo__name\">${promo}</span></p>\n            <button data-action=\"delete\" class=\"btn btn-danger\" type=\"button\">Видалити</button>\n            </div>\n            </li>`;\n    })\n    .join('');\n\n  const fixedPersonalPromocode = personal.reduce((acc, promocode) => {\n    acc[promocode.discount] = acc[promocode.discount] || [];\n    acc[promocode.discount].push(promocode);\n    return acc;\n  }, {});\n  const promocodeMarkUp = Object.entries(fixedPersonalPromocode)\n    .map(list => {\n      return `\n        <p>Знижка ${list[0]}%</p>\n        <ul class=\"list__item\">\n          ${list[1]\n            .map((p, i) => {\n              return `\n                    <li class=\"personal__wrapper\" data-name='${p.promo}'>\n                    <span>${i + 1}. \n                      <span class=\"promo__name\">${p.promo}</span>\n                    </span>\n                    <div class=\"btn-wrapper\">\n                    <button data-action=\"active\" class=\"btn btn-success\" type=\"button\">Активувати</button>\n                    <button data-action=\"delete\" class=\"btn btn-danger\" type=\"button\">Видалити</button></div>\n                    </li>`;\n            })\n            .join('')}</ul>`;\n    })\n    .join('');\n  commonList.innerHTML = commonMarkup;\n  personalList.innerHTML = promocodeMarkUp;\n}\n\n\ninitForm.addEventListener('change', onFormChange);\ninitForm.addEventListener('submit', onFormSubmit);\ncommonList.addEventListener('click', onCommonList);\npersonalList.addEventListener('click', onPersonalList);\n","import axios from 'axios';\n\nconst orderAdmin = document.querySelector('.order-admin');\nconst toOrderBtn = document.querySelector('[data-status=\"to-order\"]');\nconst preOrderBtn = document.querySelector('[data-status=\"pre-order\"]');\nconst formToOrder = document.querySelector('.form-to-order');\nconst formPreOrder = document.querySelector('.form-pre-order');\n\nconst showSettedPrice = data => {\n  if (data.type === 'pre-order') {\n    document.querySelector(\n      '.preorder-price-info'\n    ).innerHTML = `Встановлена ціна: ${data.data.price}, ціна зі знижкою:  ${data.data.preOrderPrice}`;\n  } else {\n    document.querySelector(\n      '.price-info'\n    ).innerHTML = `Встановлена ціна: ${data.data.price}`;\n  }\n};\n\nconst setActiveBtn = async elem => {\n  elem.classList.remove('btn-danger');\n  elem.classList.add('btn-success');\n  elem.innerText = 'Активовано';\n  elem.disabled = true;\n\n  const { data } = await axios.get('https://flexyplanner.onrender.com/markup');\n\n  showSettedPrice(data);\n};\n\nconst toggleButtonsClass = async (curr, next) => {\n  await axios.patch('https://flexyplanner.onrender.com/markup');\n  setActiveBtn(curr);\n\n  next.classList.remove('btn-success');\n  next.classList.add('btn-danger');\n  next.innerText = 'Активувати';\n  next.disabled = false;\n};\n\nconst activateOrderModule = e => {\n  if (!e.target.classList.contains('btn-order-js')) {\n    return;\n  }\n  if (e.target.dataset.status == 'pre-order') {\n    toggleButtonsClass(e.target, toOrderBtn);\n\n    //тут має бути відправка запиту на бекенд для оновлення активного модуля\n  } else {\n    toggleButtonsClass(e.target, preOrderBtn);\n    //тут має бути відправка запиту на бекенд для оновлення активного модуля\n  }\n};\n\nconst handleToOrderSubmit = async e => {\n  e.preventDefault();\n\n  const obj = {\n    type: 'to-order',\n    data: {\n      price: e.target.elements.price.value,\n    },\n  };\n\n  //тут має бути відправка запиту на бекенд для додавання даних модуля\n  // fetchGallery(obj);\n  try {\n    const { data } = await axios.put(\n      'https://flexyplanner.onrender.com/markup',\n      obj\n    );\n    showSettedPrice(data);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst handlePreOrderSubmit = async e => {\n  e.preventDefault();\n\n  const obj = {\n    type: 'pre-order',\n    data: {\n      price: e.target.elements.price.value,\n      preOrderPrice: e.target.elements.preOrderPrice.value,\n    },\n  };\n\n  try {\n    const { data } = await axios.put(\n      'https://flexyplanner.onrender.com/markup',\n      obj\n    );\n    showSettedPrice(data);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nasync function getActiveOrderModule() {\n  try {\n    const { data } = await axios.get(\n      'https://flexyplanner.onrender.com/markup'\n    ); //TODO: тут приходять дані по активному модулю\n    // console.log(data);\n\n    if (data.type === 'pre-order') {\n      setActiveBtn(preOrderBtn);\n    } else {\n      setActiveBtn(toOrderBtn);\n    }\n  } catch (error) {\n    console.log('something went wrong');\n  }\n}\n\norderAdmin.addEventListener('click', activateOrderModule);\nformToOrder.addEventListener('submit', handleToOrderSubmit);\nformPreOrder.addEventListener('submit', handlePreOrderSubmit);\ngetActiveOrderModule();\n"],"names":["$bpxeT","parcelRequire","$f6d4a62631a722d3$var$instancePromocode","default","create","baseURL","headers","Authorization","$f6d4a62631a722d3$export$518e31c3b7c4ab1d","$parcel$interopDefault","$2TvXO","mark","_callee","data","get","_ctx","sent","$f6d4a62631a722d3$export$d8301cf5761abfc1","query","concat","promoData","response","post","$f6d4a62631a722d3$export$4e3cbdfb79abcbd7","promocode","patch","$f6d4a62631a722d3$export$51a9ef01c6b3af31","delete","$2cfd3a8feea5b3bf$var$initForm","document","querySelector","$2cfd3a8feea5b3bf$var$inputAmount","$2cfd3a8feea5b3bf$var$dateGroup","$2cfd3a8feea5b3bf$var$commonList","$2cfd3a8feea5b3bf$var$personalList","$2cfd3a8feea5b3bf$var$startDate","$2cfd3a8feea5b3bf$var$stopDate","$2cfd3a8feea5b3bf$var$promocodeObj","$2cfd3a8feea5b3bf$var$todayDate","date","Date","day","getDate","month","getMonth","getFullYear","value","then","common","param1","personal","commonMarkup","map","param","i","discount","promo","period","from","slice","to","join","fixedPersonalPromocode","reduce","acc","push","promocodeMarkUp","Object","entries","list","p","innerHTML","addEventListener","e","preventDefault","currentTarget","elements","disabled","classList","add","contains","remove","form","_elements","amound","dateStart","dateTo","type","Number","toISOString","promodata","JSON","stringify","console","log","catch","error","message","reset","target","nodeName","promoName","closest","dataset","name","confirm","detelePromo","$iU1Pc","Notify","info","btnName","action","innerText","$a7840915fdfa0161$var$orderAdmin","$a7840915fdfa0161$var$toOrderBtn","$a7840915fdfa0161$var$preOrderBtn","$a7840915fdfa0161$var$formToOrder","$a7840915fdfa0161$var$formPreOrder","$a7840915fdfa0161$var$showSettedPrice","price","preOrderPrice","$a7840915fdfa0161$var$setActiveBtn","elem","$dIxxU","$a7840915fdfa0161$var$toggleButtonsClass","curr","next","$a7840915fdfa0161$var$handleToOrderSubmit","obj","put","t0","$a7840915fdfa0161$var$handlePreOrderSubmit","$a7840915fdfa0161$var$_getActiveOrderModule","apply","this","arguments","status","$a7840915fdfa0161$var$getActiveOrderModule"],"version":3,"file":"admin_main.86247d7f.js.map"}